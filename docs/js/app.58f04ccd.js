(function(){"use strict";var e={327:function(e,n,i){var t=i(963),o=i(252),r=i(577),a={key:0},u={key:1},s=(0,o._)("hr",null,null,-1),l={key:0},c={key:1},d={key:2},p={key:3},g={key:4},f={key:5};function h(e,n,i,t,h,m){var b,v=(0,o.up)("HomeView"),w=(0,o.up)("LoginView"),_=(0,o.up)("CadastroView"),y=(0,o.up)("GradeView"),P=(0,o.up)("AnotacoesView"),k=(0,o.up)("ConfiguracoesView");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o._)("header",null,[(0,o._)("h1",null,"Grade Escolar - "+(0,r.zw)(e.page),1)]),(0,o._)("nav",null,[e.paginasSeguras.includes(null!==(b=e.page)&&void 0!==b?b:"")?((0,o.wg)(),(0,o.iD)("div",a,[(0,o._)("a",{onClick:n[0]||(n[0]=function(n){return e.goToPage("Grade")})},"Grade"),(0,o.Uk)(" | "),(0,o._)("a",{onClick:n[1]||(n[1]=function(n){return e.goToPage("Anotacoes")})},"Anotações"),(0,o.Uk)(" | "),(0,o._)("a",{onClick:n[2]||(n[2]=function(n){return e.goToPage("Configuracoes")})},"Configurações"),(0,o.Uk)(" | "),(0,o._)("a",{onClick:n[3]||(n[3]=function(n){return e.sair()})},"Sair")])):((0,o.wg)(),(0,o.iD)("div",u,[(0,o._)("a",{onClick:n[4]||(n[4]=function(n){return e.goToPage("Home")})},"Home"),(0,o.Uk)(" | "),(0,o._)("a",{onClick:n[5]||(n[5]=function(n){return e.goToPage("Login")})},"Login"),(0,o.Uk)(" | "),(0,o._)("a",{onClick:n[6]||(n[6]=function(n){return e.goToPage("Cadastro")})},"Cadastro")]))]),s,(0,o._)("section",null,["Home"==e.page?((0,o.wg)(),(0,o.iD)("div",l,[(0,o.Wm)(v,{onGoToPage:e.goToPage},null,8,["onGoToPage"])])):(0,o.kq)("",!0),"Login"==e.page?((0,o.wg)(),(0,o.iD)("div",c,[(0,o.Wm)(w,{onGoToPage:e.goToPage},null,8,["onGoToPage"])])):(0,o.kq)("",!0),"Cadastro"==e.page?((0,o.wg)(),(0,o.iD)("div",d,[(0,o.Wm)(_,{onGoToPage:e.goToPage},null,8,["onGoToPage"])])):(0,o.kq)("",!0),"Grade"==e.page?((0,o.wg)(),(0,o.iD)("div",p,[(0,o.Wm)(y,{onGoToPage:e.goToPage},null,8,["onGoToPage"])])):(0,o.kq)("",!0),"Anotacoes"==e.page?((0,o.wg)(),(0,o.iD)("div",g,[(0,o.Wm)(P,{onGoToPage:e.goToPage},null,8,["onGoToPage"])])):(0,o.kq)("",!0),"Configuracoes"==e.page?((0,o.wg)(),(0,o.iD)("div",f,[(0,o.Wm)(k,{onGoToPage:e.goToPage},null,8,["onGoToPage"])])):(0,o.kq)("",!0)])],64)}function m(e,n,i,t,r,a){return(0,o.wg)(),(0,o.iD)("h3",null,"Grade Escolar")}var b=(0,o.aZ)({name:"HomeView",components:{},data:function(){return{}},emits:["goToPage"],methods:{goToPage:function(e){this.$emit("goToPage",e)}}}),v=i(744);const w=(0,v.Z)(b,[["render",m]]);var _=w,y=(0,o._)("label",{for:"email"},"E-Mail",-1),P=(0,o._)("br",null,null,-1),k=(0,o._)("br",null,null,-1),T=(0,o._)("br",null,null,-1),C=(0,o._)("label",{for:"email"},"Senha",-1),G=(0,o._)("br",null,null,-1),D=(0,o._)("br",null,null,-1),O=(0,o._)("br",null,null,-1),S=(0,o._)("button",{type:"submit"},"Entrar",-1),j=(0,o._)("br",null,null,-1),x=(0,o._)("br",null,null,-1),U={key:0};function V(e,n,i,a,u,s){return(0,o.wg)(),(0,o.iD)("section",null,[(0,o._)("form",{onSubmit:n[2]||(n[2]=(0,t.iM)((function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return e.signIn&&e.signIn.apply(e,n)}),["prevent"]))},[y,P,(0,o.wy)((0,o._)("input",{type:"email",id:"email","onUpdate:modelValue":n[0]||(n[0]=function(n){return e.usuario.email=n})},null,512),[[t.nr,e.usuario.email]]),k,T,C,G,(0,o.wy)((0,o._)("input",{type:"password",id:"senha","onUpdate:modelValue":n[1]||(n[1]=function(n){return e.usuario.senha=n})},null,512),[[t.nr,e.usuario.senha]]),D,O,S,j,x,e.result?((0,o.wg)(),(0,o.iD)("mark",U,(0,r.zw)(e.result),1)):(0,o.kq)("",!0)],32)])}var Z=i(655),A=function(){function e(){Object.defineProperty(this,"id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"nome",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"email",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"senha",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}return e}(),E=A,I=(0,o.aZ)({name:"LoginView",data:function(){return{api:"https://gersonmsj2.pythonanywhere.com/login",result:void 0,usuario:new E}},emits:["goToPage"],methods:{goToPage:function(e){this.$emit("goToPage",e)},signIn:function(){return(0,Z.mG)(this,void 0,void 0,(function(){var e,n;return(0,Z.Jh)(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),this.result=void 0,[4,this.axios.post(this.api,this.usuario)];case 1:return n=i.sent(),this.usuario=new E,localStorage.setItem("access_token",n.data.access_token),this.goToPage("Grade"),[3,3];case 2:return e=i.sent(),n=e.response.data,this.result=n.message,[3,3];case 3:return[2]}}))}))}}});const H=(0,v.Z)(I,[["render",V]]);var J=H,q=(0,o._)("label",{for:"nome"},"Nome",-1),W=(0,o._)("br",null,null,-1),M=(0,o._)("br",null,null,-1),$=(0,o._)("br",null,null,-1),z=(0,o._)("label",{for:"email"},"E-Mail",-1),L=(0,o._)("br",null,null,-1),R=(0,o._)("br",null,null,-1),Y=(0,o._)("br",null,null,-1),N=(0,o._)("label",{for:"email"},"Senha",-1),B=(0,o._)("br",null,null,-1),K=(0,o._)("br",null,null,-1),F=(0,o._)("br",null,null,-1),Q=(0,o._)("button",{type:"submit"},"Enviar",-1),X=(0,o._)("br",null,null,-1),ee=(0,o._)("br",null,null,-1),ne={key:0},ie=(0,o._)("br",null,null,-1);function te(e,n,i,a,u,s){var l=(0,o.up)("tabela-usuarios");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o._)("section",null,[(0,o._)("form",{onSubmit:n[3]||(n[3]=(0,t.iM)((function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return e.cadastrarUsuario&&e.cadastrarUsuario.apply(e,n)}),["prevent"]))},[q,W,(0,o.wy)((0,o._)("input",{type:"text",id:"nome","onUpdate:modelValue":n[0]||(n[0]=function(n){return e.usuario.nome=n})},null,512),[[t.nr,e.usuario.nome]]),M,$,z,L,(0,o.wy)((0,o._)("input",{type:"email",id:"email","onUpdate:modelValue":n[1]||(n[1]=function(n){return e.usuario.email=n})},null,512),[[t.nr,e.usuario.email]]),R,Y,N,B,(0,o.wy)((0,o._)("input",{type:"password",id:"senha","onUpdate:modelValue":n[2]||(n[2]=function(n){return e.usuario.senha=n})},null,512),[[t.nr,e.usuario.senha]]),K,F,Q,X,ee,e.submitResult?((0,o.wg)(),(0,o.iD)("mark",ne,(0,r.zw)(e.submitResult),1)):(0,o.kq)("",!0)],32)]),ie,(0,o._)("section",null,[(0,o.Wm)(l,{usuarios:e.usuarios},null,8,["usuarios"])])],64)}var oe=function(e){return(0,o.dD)("data-v-4ba1141a"),e=e(),(0,o.Cn)(),e},re=oe((function(){return(0,o._)("thead",null,[(0,o._)("tr",null,[(0,o._)("th",null,"Nome"),(0,o._)("th",null,"E-mail")])],-1)})),ae=["onClick"];function ue(e,n,i,t,a,u){return(0,o.wg)(),(0,o.iD)("table",null,[re,(0,o._)("tbody",null,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.usuarios,(function(n){return(0,o.wg)(),(0,o.iD)("tr",{onClick:function(i){return e.selecionarUsuario(n)},class:(0,r.C_)({seta:e.exibirEntrar})},[(0,o._)("td",null,(0,r.zw)(n.nome),1),(0,o._)("td",null,(0,r.zw)(n.email),1)],10,ae)})),256))])])}var se=(0,o.aZ)({name:"TabelaUsuarios",props:{exibirEntrar:Boolean,usuarios:Array},data:function(){return{usuario:void 0}},emits:["goToPage"],methods:{goToPage:function(e){this.$emit("goToPage",e)},selecionarUsuario:function(e){this.exibirEntrar&&(localStorage.setItem("token",e.id.toString()),this.goToPage("Grade"))}}});const le=(0,v.Z)(se,[["render",ue],["__scopeId","data-v-4ba1141a"]]);var ce=le,de=(0,o.aZ)({name:"CadastroView",components:{TabelaUsuarios:ce},data:function(){return{usuario:new E,usuarios:new Array,apiUsuario:"https://gersonmsj2.pythonanywhere.com/usuario",submitResult:void 0}},emits:["goToPage"],methods:{goToPage:function(e){this.$emit("goToPage",e)},cadastrarUsuario:function(){return(0,Z.mG)(this,void 0,void 0,(function(){var e,n,i;return(0,Z.Jh)(this,(function(t){switch(t.label){case 0:this.submitResult=void 0,this.usuario.id=void 0,t.label=1;case 1:return t.trys.push([1,4,,5]),[4,this.axios.post(this.apiUsuario,this.usuario)];case 2:return i=t.sent(),this.usuario=new E,e=this,[4,this.obterUsuarios()];case 3:return e.usuarios=t.sent(),this.submitResult="Ok!",[3,5];case 4:return n=t.sent(),i=n.response.data,this.submitResult=i.message,[3,5];case 5:return[2]}}))}))},obterUsuarios:function(){return(0,Z.mG)(this,void 0,void 0,(function(){var e;return(0,Z.Jh)(this,(function(n){switch(n.label){case 0:return[4,this.axios.get(this.apiUsuario)];case 1:return e=n.sent(),[2,e.data]}}))}))}},mounted:function(){return(0,Z.mG)(this,void 0,void 0,(function(){var e;return(0,Z.Jh)(this,(function(n){switch(n.label){case 0:return e=this,[4,this.obterUsuarios()];case 1:return e.usuarios=n.sent(),[2]}}))}))}});const pe=(0,v.Z)(de,[["render",te]]);var ge=pe;function fe(e,n,i,t,r,a){return(0,o.wg)(),(0,o.iD)("p",null,"Grade")}var he=(0,o.aZ)({name:"GradeView",data:function(){return{access_token:void 0}},emits:["goToPage"],methods:{goToPage:function(e){this.$emit("goToPage",e)}},mounted:function(){var e=localStorage.getItem("access_token");e?this.access_token=e:this.goToPage("Home")}});const me=(0,v.Z)(he,[["render",fe]]);var be=me;function ve(e,n,i,t,r,a){return(0,o.wg)(),(0,o.iD)("p",null,"Anotações")}var we=(0,o.aZ)({name:"AnotacoesView",data:function(){return{access_token:void 0}},emits:["goToPage"],methods:{goToPage:function(e){this.$emit("goToPage",e)}},mounted:function(){var e=localStorage.getItem("access_token");e?this.access_token=e:this.goToPage("Home")}});const _e=(0,v.Z)(we,[["render",ve]]);var ye=_e,Pe=(0,o._)("legend",null,"Disciplinas",-1),ke=(0,o._)("br",null,null,-1),Te=(0,o._)("legend",null,"Grade",-1);function Ce(e,n,i,t,r,a){var u=(0,o.up)("DisciplinaComponent"),s=(0,o.up)("GradeComponent");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o._)("fieldset",null,[Pe,(0,o.Wm)(u,{onDisciplinas:e.vincularDisciplinas},null,8,["onDisciplinas"])]),ke,(0,o._)("fieldset",null,[Te,(0,o.Wm)(s,{disciplinas:e.disciplinas},null,8,["disciplinas"])])],64)}var Ge=function(e){return(0,o.dD)("data-v-1901596b"),e=e(),(0,o.Cn)(),e},De={key:0},Oe=Ge((function(){return(0,o._)("button",{type:"submit",id:"add"},"Incluir",-1)})),Se=[Oe],je={key:1},xe=Ge((function(){return(0,o._)("button",{type:"submit",id:"upd"},"Salvar",-1)})),Ue=Ge((function(){return(0,o._)("button",{type:"reset",id:"abt"},"Cancelar",-1)})),Ve=Ge((function(){return(0,o._)("br",null,null,-1)})),Ze=["onClick"];function Ae(e,n,i,a,u,s){return(0,o.wg)(),(0,o.iD)("form",{onSubmit:n[2]||(n[2]=(0,t.iM)((function(n){return e.submit()}),["prevent"])),onReset:n[3]||(n[3]=(0,t.iM)((function(n){return e.reset()}),["prevent"]))},[(0,o.wy)((0,o._)("input",{type:"text",id:"disciplina","onUpdate:modelValue":n[0]||(n[0]=function(n){return e.disciplina.disciplina=n})},null,512),[[t.nr,e.disciplina.disciplina]]),e.disciplinaSelecionada?((0,o.wg)(),(0,o.iD)("span",je,[xe,(0,o._)("button",{type:"button",id:"del",onClick:n[1]||(n[1]=function(n){return e.del()})},"Excluir"),Ue])):((0,o.wg)(),(0,o.iD)("span",De,Se)),Ve,(0,o._)("table",null,[(0,o._)("tbody",null,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.disciplinas,(function(n){return(0,o.wg)(),(0,o.iD)("tr",{onClick:function(i){return e.selecionar(n)}},[(0,o._)("td",{class:(0,r.C_)({selecionada:e.disciplinaAtiva(n)})},(0,r.zw)(n.disciplina),3)],8,Ze)})),256))])])],32)}var Ee=function(){function e(){Object.defineProperty(this,"id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"id_usuario",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"disciplina",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}return Object.defineProperty(e,"sort",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return e.sort((function(e,n){return e.disciplina||n.disciplina?e.disciplina?n.disciplina?e.disciplina.localeCompare(n.disciplina):-1:1:0}))}}),Object.defineProperty(e,"clone",{enumerable:!1,configurable:!0,writable:!0,value:function(n){var i=new e;return i.id=n.id,i.id_usuario=n.id_usuario,i.disciplina=n.disciplina,i}}),e}(),Ie=Ee,He=(0,o.aZ)({name:"DisciplinaComponent",data:function(){return{api:"https://gersonmsj2.pythonanywhere.com/disciplina",result:void 0,disciplina:new Ie,disciplinaSelecionada:void 0,disciplinas:new Array}},emits:["disciplinas"],methods:{obter:function(){return(0,Z.mG)(this,void 0,void 0,(function(){var e;return(0,Z.Jh)(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.axios.get(this.api)];case 1:return e=n.sent(),this.disciplinas=Ie.sort(e.data),[3,3];case 2:return n.sent(),this.disciplinas=new Array,[3,3];case 3:return this.disciplina=new Ie,this.disciplinaSelecionada=void 0,this.result=void 0,this.$emit("disciplinas",this.disciplinas),[2]}}))}))},submit:function(){return(0,Z.mG)(this,void 0,void 0,(function(){var e,n;return(0,Z.Jh)(this,(function(i){switch(i.label){case 0:return i.trys.push([0,6,,7]),this.disciplinaSelecionada?[3,2]:[4,this.axios.post(this.api,this.disciplina)];case 1:return i.sent(),[3,4];case 2:return[4,this.axios.patch(this.api,this.disciplina)];case 3:i.sent(),i.label=4;case 4:return[4,this.obter()];case 5:return i.sent(),[3,7];case 6:return e=i.sent(),n=e.response.data,this.result=n.message,[3,7];case 7:return[2]}}))}))},reset:function(){this.disciplina=new Ie,this.disciplinaSelecionada=void 0},del:function(){return(0,Z.mG)(this,void 0,void 0,(function(){var e,n;return(0,Z.Jh)(this,(function(i){switch(i.label){case 0:return i.trys.push([0,3,,4]),[4,this.axios.delete("".concat(this.api,"/").concat(this.disciplina.id))];case 1:return i.sent(),[4,this.obter()];case 2:return i.sent(),[3,4];case 3:return e=i.sent(),n=e.response.data,this.result=n.message,[3,4];case 4:return[2]}}))}))},selecionar:function(e){this.disciplinaSelecionada=Ie.clone(e),this.disciplina=this.disciplinaSelecionada},disciplinaAtiva:function(e){var n;return(null===(n=this.disciplinaSelecionada)||void 0===n?void 0:n.id)==e.id}},mounted:function(){return(0,Z.mG)(this,void 0,void 0,(function(){return(0,Z.Jh)(this,(function(e){switch(e.label){case 0:return[4,this.obter()];case 1:return e.sent(),[2]}}))}))}});const Je=(0,v.Z)(He,[["render",Ae],["__scopeId","data-v-1901596b"]]);var qe=Je;function We(e,n,i,t,o,r){return null}var Me=function(){function e(){Object.defineProperty(this,"id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"id_usuario",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"aulas",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"dias",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}return e}(),$e=Me,ze=(0,o.aZ)({name:"GradeComponent",props:{disciplinas:Array},data:function(){return{grade:new $e}},methods:{obterGrade:function(){return(0,Z.mG)(this,void 0,void 0,(function(){return(0,Z.Jh)(this,(function(e){return[2]}))}))}}});const Le=(0,v.Z)(ze,[["render",We]]);var Re=Le,Ye=function(){function e(){}return Object.defineProperty(e,"tokenExpirado",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var n=e.split(".")[1],i=JSON.parse(atob(n));if(i&&i.exp){var t=new Date(1e3*i.exp),o=new Date;return t<o}return!1}}),Object.defineProperty(e,"autenticado",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=localStorage.getItem("access_token");return null!=e&&!this.tokenExpirado(e)}}),e}(),Ne=Ye,Be=(0,o.aZ)({name:"ConfiguracoesView",components:{DisciplinaComponent:qe,GradeComponent:Re},data:function(){return{disciplinas:new Array}},emits:["goToPage"],methods:{goToPage:function(e){this.$emit("goToPage",e)},vincularDisciplinas:function(e){this.disciplinas=e}},mounted:function(){Ne.autenticado()||this.goToPage("Login")}});const Ke=(0,v.Z)(Be,[["render",Ce]]);var Fe=Ke,Qe=(0,o.aZ)({name:"App",components:{HomeView:_,LoginView:J,CadastroView:ge,GradeView:be,AnotacoesView:ye,ConfiguracoesView:Fe},data:function(){return{page:void 0,paginasSeguras:["Grade","Anotacoes","Configuracoes"]}},methods:{goToPage:function(e){this.page=e},sair:function(){localStorage.removeItem("access_token"),this.goToPage("Home")}},mounted:function(){var e=localStorage.getItem("page");this.page=e||"Home"},watch:{page:function(e){localStorage.setItem("page",e)}}});const Xe=(0,v.Z)(Qe,[["render",h]]);var en=Xe,nn=i(154),tn=i(346),on=(0,t.ri)(en);on.use(tn.Z,nn.Z),on.provide("axios",on.config.globalProperties.axios),nn.Z.interceptors.request.use((function(e){var n=localStorage.getItem("access_token");return n&&(e.headers.Authorization="Bearer ".concat(n)),e}),(function(e){return Promise.reject(e)})),nn.Z.interceptors.response.use((function(e){return e}),(function(e){return 422!=e.response.status&&401!=e.response.status||(console.log(e.response.status),localStorage.removeItem("access_token")),Promise.reject(e)})),on.mount("#app")}},n={};function i(t){var o=n[t];if(void 0!==o)return o.exports;var r=n[t]={id:t,loaded:!1,exports:{}};return e[t](r,r.exports,i),r.loaded=!0,r.exports}i.m=e,function(){i.amdO={}}(),function(){var e=[];i.O=function(n,t,o,r){if(!t){var a=1/0;for(c=0;c<e.length;c++){t=e[c][0],o=e[c][1],r=e[c][2];for(var u=!0,s=0;s<t.length;s++)(!1&r||a>=r)&&Object.keys(i.O).every((function(e){return i.O[e](t[s])}))?t.splice(s--,1):(u=!1,r<a&&(a=r));if(u){e.splice(c--,1);var l=o();void 0!==l&&(n=l)}}return n}r=r||0;for(var c=e.length;c>0&&e[c-1][2]>r;c--)e[c]=e[c-1];e[c]=[t,o,r]}}(),function(){i.d=function(e,n){for(var t in n)i.o(n,t)&&!i.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:n[t]})}}(),function(){i.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){i.hmd=function(e){return e=Object.create(e),e.children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:function(){throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e}}(),function(){i.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)}}(),function(){var e={143:0};i.O.j=function(n){return 0===e[n]};var n=function(n,t){var o,r,a=t[0],u=t[1],s=t[2],l=0;if(a.some((function(n){return 0!==e[n]}))){for(o in u)i.o(u,o)&&(i.m[o]=u[o]);if(s)var c=s(i)}for(n&&n(t);l<a.length;l++)r=a[l],i.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return i.O(c)},t=self["webpackChunkweb"]=self["webpackChunkweb"]||[];t.forEach(n.bind(null,0)),t.push=n.bind(null,t.push.bind(t))}();var t=i.O(void 0,[998],(function(){return i(327)}));t=i.O(t)})();
//# sourceMappingURL=app.58f04ccd.js.map